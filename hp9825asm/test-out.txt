                        HP9825A RAM Checker, by Atkelar                         


00002000               *    SPC 3
00003000               * Boot location - forwart jump to actual boot code, past the constant list.
00004000 00040               ORG 40
00005000 00040 164041  SYSS  JMP *+1,I      JUMP TO BOOT LOCATION
00006000 00041               BSS 1      PLACEHOLDER FOR ADDRESS
00007000 00042 000000  P0    OCT 0      # 0-constant
00008000 00043 000002  P2    OCT 2
00009000 00044 000006  P6    OCT 6      # 6-constant
00010000 00045 000010  B10   OCT 10
00011000 00046 000020  B20   OCT 20
00012000 00047         M8    DEC -8
00013000 00050 100000  FLAG  OCT 100000
00014000               *
00015000               *   Strings and contstantes for program flow
00016000               *
00017000 00100               ORG 100
00018000 00100 051101  CBTMS ASC 6,RAM Check-C 
00018001 00101 046440  *
00018002 00102 041550  *
00018003 00103 062543  *
00018004 00104 065455  *
00018005 00105 041440  *
00019000 00106 051101  HBTMS ASC 6,RAM Check-H 
00019001 00107 046440  *
00019002 00110 041550  *
00019003 00111 062543  *
00019004 00112 065455  *
00019005 00113 044040  *
00020000               *
00021000               * Startup location.
00022000               *
00023000 00114 000042  .INT  LDA KPA      Keyb. Select code
00024000 00115 030011        STA PA      set peripheral addr
00025000 00116 000005        LDA R5      read system status
00026000 00117 170502        SAR 3
00027000 00120 073402        RLA *+2
00028000 00121 064124        JMP RESET
00029000               *
00030000               * Cold boot.
00031000               *
00032000 00122 000106        LDA HBTMS
00033000 00123 064126        JMP MTSTS
00034000               *
00035000               * Hot boot.
00036000               *
00037000 00124 000106  RESET LDA HBTMS      * print message for hot boot
00038000 00125 064126        JMP MTSTS
00039000               *
00040000               * Memory test code...
00041000               *
00042000 00126 030016  MTSTS STA C
00043000 00127 000042        LDA KPA
00044000 00130 030011        STA PA
00045000 00131 000046        LDA B20      B20 = turn off run light, B10 = on. Bits 3+4 trigger J/K signals on R5 write
00046000 00132 030005        STA R5
00047000 00133 004044        LDB P6
00048000 00134 074560  DSLP1 WBC      R4,I   Load char and push to display
                        HP9825A RAM Checker, by Atkelar                         


00049000 00135 054001        DSZ B      Done?
00050000 00136 064134        JMP DSLP1
00051000 00137 000043        LDA P2      Trigger display update.
00052000 00140 030005        STA R5
00053000               *
00054000               * twiddle thumbs
00055000               *
00056000 00141 004047  HLT   LDB M8
00057000 00142 000050        LDA FLAG
00058000 00143 072100        RIA *
00059000 00144 076176        RIB *-2
00060000 00145 000045        LDA B10      B20 = turn off run light, B10 = on. Bits 3+4 trigger J/K signals on R5 write
00061000 00146 030005        STA R5
00062000 00147 004047        LDB M8
00063000 00150 000050        LDA FLAG
00064000 00151 072100        RIA *
00065000 00152 076176        RIB *-2
00066000 00153 000046        LDA B20      B20 = turn off run light, B10 = on. Bits 3+4 trigger J/K signals on R5 write
00067000 00154 030005        STA R5
00068000 00155 064141        JMP HLT
00069000               *
00070000               * FIXUP location pointer placeholders.
00071000               *
00072000 00041               ORG SYSS+1      # update the correct target address in the BSS part.
00073000 00041 000114        DEF .INT
00074000       000042  KPA   EQU P0
00075000                     END
